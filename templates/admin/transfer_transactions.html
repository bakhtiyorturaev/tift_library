{% extends "admin/base_site.html" %}
{% load static %}

{% block extrahead %}
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="{% static 'css/transfer_transactions.css' %}">
{% endblock %}


{% block content %}
<div class="transfer-container">
  <div class="transfer-card">
    <header class="transfer-header">
      <h1 class="transfer-title">{{ title }}</h1>
    </header>

    <div class="transfer-content">
      <form method="post" class="transfer-form">
        {% csrf_token %}

        <div class="form-grid">
          {% for field in form %}
          <div class="form-group">
            <label for="{{ field.id_for_label }}">{{ field.label }}</label>
            {{ field }}
            {% if field.help_text %}
              <small class="form-help">{{ field.help_text }}</small>
            {% endif %}
            {% if field.errors %}
              <div class="form-error">{{ field.errors }}</div>
            {% endif %}
          </div>
          {% endfor %}
        </div>

        <div class="form-actions">
          <button type="submit" name="apply" class="btn-primary">
            <i class="fas fa-exchange-alt"></i> O'tkazishni davom ettirish
          </button>
          <a href="{% url 'admin:index' %}" class="btn-secondary">
            <i class="fas fa-times"></i> Bekor qilish
          </a>
        </div>
      </form>

      <div class="summary-card">
        <div class="summary-header">
          <h3><i class="fas fa-list-check"></i> Tanlangan elementlar</h3>
          <div class="summary-badges">
            <span class="badge book-badge">{{ total_count }} ta kitob</span>
            <span class="badge member-badge">{{ member_count }} ta talaba</span>
          </div>
        </div>

        <div class="summary-content">
          <div class="summary-scroll">
            {% for obj in transactions %}
            <div class="summary-item">
              <div class="item-icon">
                <i class="fas fa-book"></i>
              </div>
              <div class="item-details">
                <div class="item-title">{{ obj.book_title }}</div>
                <div class="item-meta">
                  <span><i class="fas fa-user-graduate"></i> {{ obj.member.full_name }}</span>
                  <span><i class="fas fa-id-card"></i> {{ obj.member.student_id }}</span>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
{% endblock %}